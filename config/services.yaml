parameters:
    app.groq_api_key: '%env(GROQ_API_KEY)%'

services:
    App\EventListener\MessageNotifier:
        tags:
            - { name: "doctrine.event_listener", event: "postPersist" }
    
    acme_api.event.jwt_created_listener:
        class: App\EventListener\JWTCreatedListener
        arguments: ["@request_stack"]
        tags:
            - { name: kernel.event_listener, event: lexik_jwt_authentication.on_jwt_created, method: onJWTCreated }
    
    App\Controller\RoomController:
        arguments:
            $urlSigner: '@url_signer.signer'

    Symfony\Component\Mercure\HubInterface: "@mercure.hub.default"
    # default configuration for services in *this* file
    _defaults:
        autowire: true # Automatically injects dependencies in your services.
        autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

    # makes classes in src/ available to be used as services
    # this creates a service per class whose id is the fully-qualified class name
    App\:
        resource: "../src/"
        exclude:
            - "../src/DependencyInjection/"
            - "../src/Entity/"
            - "../src/Kernel.php"

    App\Service\GroqApiService:
        arguments:
            $apiKey: '%app.groq_api_key%'
